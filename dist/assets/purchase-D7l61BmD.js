import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{initializeApp as g}from"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import{getDatabase as u,onValue as b,ref as h}from"https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";const I=g({apiKey:"AIzaSyBD_s0bu-ei-bsdPDIFaDF6gbuck-85hbM",databaseURL:"https://zcafe-65f97-default-rtdb.firebaseio.com"}),x=u(I),n=document.getElementById("bell-icon"),t=document.createElement("div");t.style.position="absolute";t.style.top="-5px";t.style.right="-5px";t.style.background="red";t.style.color="white";t.style.borderRadius="50%";t.style.width="18px";t.style.height="18px";t.style.fontSize="12px";t.style.display="none";t.style.alignItems="center";t.style.justifyContent="center";t.style.fontWeight="bold";t.style.zIndex="10";n&&(n.style.position="relative",n.appendChild(t));const i=document.createElement("audio");i.src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3";document.body.appendChild(i);let c=parseInt(localStorage.getItem("lastNotifSeen")||"0");b(h(x,"notifications"),l=>{if(l.exists()){const r=l.val(),m=localStorage.getItem("deliveryAddress")||"",p=localStorage.getItem("companyName")||"",d=parseInt(localStorage.getItem("lastNotifSeen")||"0");let a=0,o=0;Object.values(r).forEach(e=>{const y=e.targetLocation==="all"||e.targetLocation===m,f=e.targetCompany==="all"||e.targetCompany===p,s=new Date(e.timestamp).getTime();y&&f&&(s>d&&a++,s>o&&(o=s))}),o>c&&(i.play().catch(e=>console.log("Sound error:",e)),c=o),t.textContent=a,t.style.display=a>0?"flex":"none"}});
