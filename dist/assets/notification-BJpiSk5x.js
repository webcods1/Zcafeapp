import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{initializeApp as p}from"https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";import{getDatabase as v,onValue as y,ref as u}from"https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";const S=p({apiKey:"AIzaSyBD_s0bu-ei-bsdPDIFaDF6gbuck-85hbM",databaseURL:"https://zcafe-65f97-default-rtdb.firebaseio.com"}),h=v(S),a=document.getElementById("notifications-list"),l=document.getElementById("empty-msg"),b=document.getElementById("notif-sound"),I=localStorage.getItem("deliveryAddress")||"",L=localStorage.getItem("companyName")||"";let m=parseInt(localStorage.getItem("lastNotifSeen")||"0");y(u(h,"notifications"),s=>{a.innerHTML="";let n=!1,o=0;if(s.exists()){const c=s.val();Object.keys(c).sort().reverse().forEach(d=>{const t=c[d],e=new Date(t.timestamp).getTime();e>o&&(o=e);const r=t.targetLocation==="all"||t.targetLocation===I,f=t.targetCompany==="all"||t.targetCompany===L;if(r&&f){n=!0,e>m&&(b.play().catch(g=>console.log("Sound play error:",g)),m=e,localStorage.setItem("lastNotifSeen",e.toString()));const i=document.createElement("div");i.className="notification-item",i.innerHTML=`
                            <div class="notification-icon">
                                <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title">${t.title}</div>
                                <div class="notification-text">${t.message}</div>
                                <div class="notification-time">${new Date(t.timestamp).toLocaleString()}</div>
                            </div>
                        `,a.appendChild(i)}})}o>0&&localStorage.setItem("lastNotifSeen",o.toString()),n||(a.appendChild(l),l.style.display="block")});
