<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="public/logo.png" />
  <title> ZCafe</title>

  <!-- PWA: web manifest -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#ffffff">

  <!-- Apple (iOS) support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="ZCafe">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">

  <!-- iOS splash screens (add matching files in /public/icons/) -->
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-640x1136.png"
    media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-750x1334.png"
    media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-1125x2436.png"
    media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-1242x2208.png"
    media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)">
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-1242x2688.png"
    media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
  <link rel="apple-touch-startup-image" href="/icons/apple-splash-828x1792.png"
    media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- Your custom styles (override Bootstrap) -->
  <link rel="stylesheet" href="desktop.css">
  <link rel="stylesheet" href="mobile.css">

  <style>
    @keyframes slideUpFade {
      0% {
        opacity: 0;
        transform: translate(-50%, 20px);
      }

      15% {
        opacity: 1;
        transform: translate(-50%, 0);
      }

      85% {
        opacity: 1;
        transform: translate(-50%, 0);
      }

      100% {
        opacity: 0;
        transform: translate(-50%, -20px);
      }
    }

    @keyframes cartPulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.3);
      }
    }
  </style>
</head>

<body>
  <!-- ===== Navbar ===== -->
  <nav>
    <div class="nav-top">
      <div class="search-container">
        <img src="public/logo.png" alt="ZCafe Logo">
        <input type="text" placeholder="Search products...">
      </div>

      <div class="nav-right">
        <div class="nav-icon" id="bell-icon" title="Notifications">
          <svg viewBox="0 0 24 24">
            <path d="M12 24a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2Zm6-6V11a6 6 0 0 0-12 0v7L4 20v1h16v-1Z" />
          </svg>
        </div>
        <div class="nav-icon" id="wishlist-icon" title="Wishlist">
          <svg viewBox="0 0 24 24">
            <path d="M12 21s-8-4.58-8-11a5 5 0 0 1 9-3 5 5 0 0 1 9 3c0 6.42-8 11-8 11Z" />
          </svg>
        </div>
        <div class="nav-icon" id="profile-icon" title="Profile">
          <svg viewBox="0 0 24 24">
            <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5v3h18v-3c0-2.5-4-5-9-5Z" />
          </svg>
        </div>
      </div>
    </div>
    <div class="deliver-to">
      <svg viewBox="0 0 24 24">
        <path
          d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
      </svg>
      <span>Deliver To:</span>
      <input type="text" id="address-input" placeholder="Enter your address">
    </div>
  </nav>

  <div class="scroll-container">
    <div class="image-scroll-row">
      <div class="scroll-item" data-name="Coffee Premium" data-img="/zcoffepre.png"
        onclick="showProductQuickView(this)">
        <div class="best-seller-tag">Best Seller</div>
        <img src="/zcoffepre.png" alt="Coffee">
      </div>
      <div class="scroll-item" data-name="Tea Premium" data-img="/ztea.png" onclick="showProductQuickView(this)">
        <div class="offer-tag">UP TO 10% OFF</div>
        <img src="/ztea.png" alt="Tea">
      </div>
      <div class="scroll-item" data-name="Cappuccino" data-img="/cappuccino.png" onclick="showProductQuickView(this)">
        <div class="new-tag">NEW ARRIVAL</div>
        <img src="/cappuccino.png" alt="Cappuccino">
      </div>
      <div class="scroll-item" data-name="Milk Boost" data-img="/boost.png" onclick="showProductQuickView(this)">
        <div class="energy-tag">ENERGY</div>
        <img src="/boost.png" alt="Boost">
      </div>
      <div class="scroll-item" data-name="Coffee Non sugar" data-img="/zcoffe.png" onclick="showProductQuickView(this)">
        <div class="healthy-tag">0% SUGAR</div>
        <img src="/zcoffe.png" alt="Diet Coffee">
      </div>
      <div class="scroll-item" data-name="Milk Horlicks" data-img="/horlicks.png" onclick="showProductQuickView(this)">
        <div class="trending-tag">TRENDING</div>
        <img src="/horlicks.png" alt="Horlicks">
      </div>
    </div>
  </div>
  <!-- ===== Banner Carousel ===== -->
  <div class="banner-carousel container-fluid px-0">

    <div class="carousel-slides mx-auto">

      <div class="banner banner-slide active d-flex justify-content-center align-items-center">
        <video class="banner-video w-xs-100 h-xs-80 h-md-100 h-lg-100" webkit-playsinline playsinline muted loop
          autoplay poster="/bannerDC.png">
          <source src="/DietCoffeeZ.webm" type="video/webm">
        </video>
      </div>

      <div class="banner banner-slide d-flex justify-content-center align-items-center">
        <video class="banner-video w-xs-100 h-xs-80 h-md-100 h-lg-100" webkit-playsinline playsinline muted loop
          autoplay poster="/bannerPT.png">
          <source src="/PremiumTeaZ.webm" type="video/webm">
        </video>
      </div>

      <div class="banner banner-slide d-flex justify-content-center align-items-center">
        <video class="banner-video w-xs-100 h-xs-80 h-md-100 h-lg-100" webkit-playsinline playsinline muted loop
          autoplay poster="/bannerMB.png">
          <source src="/MilkBoostZ.webm" type="video/webm">
        </video>
      </div>

      <div class="banner banner-slide d-flex justify-content-center align-items-center">
        <video class="banner-video w-xs-100 h-xs-80 h-md-100 h-lg-100" webkit-playsinline playsinline muted loop
          autoplay poster="/bannerMH.png">
          <source src="/MilkhorlicksZ.webm" type="video/webm">
        </video>
      </div>

      <div class="banner banner-slide d-flex justify-content-center align-items-center">
        <video class="banner-video w-xs-100 h-xs-80 h-md-100 h-lg-100" webkit-playsinline playsinline muted loop
          autoplay poster="/bannerCA.png">
          <source src="/cappuccinoZ.webm" type="video/webm">
        </video>
      </div>

    </div>

    <div class="carousel-dots">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>

  </div>
  <!-- ===== Search Results Section ===== -->
  <section class="products-section" id="search-results" style="display: none;">
    <h2>Search Results</h2>
    <p>Discover our selection of beverages, crafted to perfection for your enjoyment</p>
    <div class="products-wrapper">
      <div class="products-grid" id="search-grid">
      </div>
    </div>
  </section>

  <section class="products-collage" id="tea-varieties">
    <div class="collage-header">
      <h2>Tea Premix & Varieties</h2>
      <p>Premium blends crafted for your perfect cup</p>
    </div>

    <div class="collage-container">
      <div class="main-feature-area">
        <div class="carousel-track" id="main-carousel">
          <div class="feature-slide active">
            <img src="/ztea.png" alt="Featured Product" id="display-img">
            <div class="feature-details">
              <h3 id="display-title">Premium Tea</h3>
              <div class="rating" id="display-rating">â˜…â˜…â˜…â˜…â˜…</div>
              <button id="add-to-cart-btn" class="cart-btn" onclick="addToCart()">
                <i class="fas fa-shopping-cart"></i> Add to Cart
              </button>
            </div>
          </div>
        </div>

        <button class="nav-arrow prev" onclick="moveSlide(-1)">&#10094;</button>
        <button class="nav-arrow next" onclick="moveSlide(1)">&#10095;</button>
      </div>

      <div class="thumbnail-sidebar">
        <div class="thumb-item active" onclick="updateMain(0, '/ztea.png', 'Premium Tea', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/ztea.png" alt="Premium Tea">
        </div>
        <div class="thumb-item" onclick="updateMain(1, '/zwtea.png', 'Non Sugar Tea', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/zwtea.png" alt="Non Sugar Tea">
        </div>
        <div class="thumb-item" onclick="updateMain(2, '/MasalaTea.png', 'Masala Tea', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/MasalaTea.png" alt="Masala Tea">
        </div>
        <div class="thumb-item" onclick="updateMain(3, '/LemonTea.png', 'LemonTea', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/LemonTea.png" alt="Lemon Tea">
        </div>
      </div>
    </div>
  </section>

  <section class="products-collage" id="coffee-varieties">
    <div class="collage-header">
      <h2>Coffee Premix & Varieties</h2>
      <p>Rich and aromatic blends for coffee lovers</p>
    </div>

    <div class="collage-container">
      <div class="main-feature-area">
        <div class="carousel-track" id="main-carousel-coffee">
          <div class="feature-slide active">
            <img src="/zcoffepre.png" alt="Featured Product" id="display-img-coffee">
            <div class="feature-details">
              <h3 id="display-title-coffee">Premium Coffee</h3>
              <div class="rating" id="display-rating-coffee">â˜…â˜…â˜…â˜…â˜…</div>
              <button id="add-to-cart-btn-coffee" class="cart-btn" onclick="addToCartCoffee()">
                <i class="fas fa-shopping-cart"></i> Add to Cart
              </button>
            </div>
          </div>
        </div>

        <button class="nav-arrow prev" onclick="moveSlideCoffee(-1)">&#10094;</button>
        <button class="nav-arrow next" onclick="moveSlideCoffee(1)">&#10095;</button>
      </div>

      <div class="thumbnail-sidebar">
        <div class="thumb-item thumb-item-coffee active"
          onclick="updateMainCoffee(0, '/zcoffepre.png', 'Premium Coffee', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/zcoffepre.png" alt="Premium Coffee">
        </div>
        <div class="thumb-item thumb-item-coffee"
          onclick="updateMainCoffee(1, '/cappuccino.png', 'Cappuccino', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/cappuccino.png" alt="Cappuccino">
        </div>
        <div class="thumb-item thumb-item-coffee" onclick="updateMainCoffee(2, '/zcoffe.png', 'Diet Coffee', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/zcoffe.png" alt="Diet Coffee">
        </div>
        <div class="thumb-item thumb-item-coffee" onclick="updateMainCoffee(3, '/boost.png', 'Milk Boost', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/boost.png" alt="Milk Boost">
        </div>
      </div>
    </div>
  </section>

  <section class="products-collage" id="special-varieties">
    <div class="collage-header">
      <h2>Special Premix & Varieties</h2>
      <p>Our most loved and special selections</p>
    </div>

    <div class="collage-container">
      <div class="main-feature-area">
        <div class="carousel-track" id="main-carousel-special">
          <div class="feature-slide active">
            <img src="/boost.png" alt="Featured Product" id="display-img-special">
            <div class="feature-details">
              <h3 id="display-title-special">Milk Boost</h3>
              <div class="rating" id="display-rating-special">â˜…â˜…â˜…â˜…â˜…</div>
              <button id="add-to-cart-btn-special" class="cart-btn" onclick="addToCartSpecial()">
                <i class="fas fa-shopping-cart"></i> Add to Cart
              </button>
            </div>
          </div>
        </div>

        <button class="nav-arrow prev" onclick="moveSlideSpecial(-1)">&#10094;</button>
        <button class="nav-arrow next" onclick="moveSlideSpecial(1)">&#10095;</button>
      </div>

      <div class="thumbnail-sidebar">
        <div class="thumb-item thumb-item-special active"
          onclick="updateMainSpecial(0, '/boost.png', 'Milk Boost', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/boost.png" alt="Milk Boost">
        </div>
        <div class="thumb-item thumb-item-special"
          onclick="updateMainSpecial(1, '/horlicks.png', 'Milk Horlicks', 'â˜…â˜…â˜…â˜…â˜…')">
          <img src="/horlicks.png" alt="Milk Horlicks">
        </div>
        <div class="thumb-item thumb-item-special"
          onclick="updateMainSpecial(2, '/MasalaTea.png', 'Masala Tea', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/MasalaTea.png" alt="Masala Tea">
        </div>
        <div class="thumb-item thumb-item-special"
          onclick="updateMainSpecial(3, '/LemonTea.png', 'Lemon Tea', 'â˜…â˜…â˜…â˜…â˜†')">
          <img src="/LemonTea.png" alt="Lemon Tea">
        </div>
      </div>
    </div>
  </section>


  <!-- ===== Services ===== -->
  <section class="services-section">
    <h2 class="visible">SERVICE</h2>
    <p class="visible">We are providing free service for our Machine</p>
    <svg class="service-vehicle" viewBox="0 0 24 24" fill="#aa0a0a">
      <path
        d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.43-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z" />
    </svg>
    <div class="service-track"></div>

    <button class="service-button" id="service-btn">Book Now <i class="fas fa-arrow-right"></i></button>
  </section>

  <!-- ===== About Us ===== -->
  <section class="about-us-section">
    <h2>ABOUT ZCAFE</h2>
    <p>Welcome to ZCafe, your premier destination for premium coffee and beverages. We are dedicated to providing
      high-quality products and exceptional service to coffee lovers everywhere. Our mission is to bring the finest
      coffee experiences to your doorstep with convenience and care.</p>
  </section>

  <!-- ===== Connect with Us ===== -->
  <section class="connect-section">
    <h2>CONNECT WITH ZCAFE</h2>

    <p class="connect-desc">
      Have questions or need assistance? Reach out to us!
    </p>

    <div class="connect-details">
      <p>ðŸ“§ <a href="mailto:zcafemarketing@gmail.com">zcafemarketing@gmail.com</a></p>
      <p>ðŸ“ž <a href="tel:8590230028">+91 85902 30028</a></p>
    </div>

    <p class="connect-social">
      Follow us on social media for updates and promotions.
    </p>
  </section>
  <div class="social-media-links visible">
    <a href="https://www.instagram.com/z_cafemarketing/reels/?__pwa=1" class="social-link">
      <svg viewBox="0 0 24 24">
        <path
          d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
      </svg>
      Instagram
    </a>
    <a href="#" class="social-link">
      <svg viewBox="0 0 24 24">
        <path
          d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
      </svg>
      Facebook
    </a>

  </div>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <p>&copy; 2025 ZCafe. All rights reserved by Webcods</p>
  </footer>

  <!-- ===== Bottom Navigation ===== -->
  <div class="bottom-nav">
    <a class="nav-item active" href="index.html" id="home-link">
      <svg viewBox="0 0 24 24">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4v-7h-6v7H5a2 2 0 0 1-2-2Z" />
      </svg>
      Home
    </a>
    <a class="nav-item" href="purchase.html" id="purchase-link">
      <svg viewBox="0 0 24 24">
        <path d="M20 7l-8-4-8 4v10l8 4 8-4z M12 3v10 M8 5v10 M16 5v10" />
      </svg>
      Purchase
    </a>
    <a class="nav-item" href="service.html" id="service-link">
      <svg viewBox="0 0 24 24" fill="#000">
        <path
          d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.43-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z" />
      </svg>
      Service
    </a>
    <a class="nav-item" href="bag.html" id="bag-link">
      <svg viewBox="0 0 24 24">
        <path d="M6 7V6a6 6 0 0 1 12 0v1h2v14H4V7Zm2 0h8V6a4 4 0 0 0-8 0Z" />
      </svg>
      Cart
    </a>
  </div>

  <script>

    // ================= DELIVERY ADDRESS (FROM PROFILE) =================
    document.addEventListener("DOMContentLoaded", () => {
      const addressInput = document.getElementById("address-input");
      const deliverToSpan = document.querySelector(".deliver-to span");

      const companyName = localStorage.getItem("companyName");
      const deliveryAddress = localStorage.getItem("deliveryAddress");

      // Label
      if (deliverToSpan) {
        if (companyName) {
          deliverToSpan.textContent = `Deliver To (${companyName}):`;
        } else {
          deliverToSpan.textContent = "Deliver To:";
        }
      }

      // Address
      if (addressInput) {
        if (deliveryAddress) {
          addressInput.value = deliveryAddress;
        } else {
          addressInput.value = "Please set delivery address in profile";
        }
        addressInput.readOnly = true;
      }
    });

    // cart logic
    let cart = JSON.parse(localStorage.getItem("cartItems")) || [];
    const cartBadge = document.createElement("div");
    cartBadge.className = "cart-badge";
    cartBadge.style.cssText = `
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff0000;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 11px;
      font-weight: bold;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    `;

    // Make sure the parent has position relative
    const bagLink = document.getElementById("bag-link");
    bagLink.style.position = "relative";
    bagLink.appendChild(cartBadge);

    // function to update badge
    function updateBadge() {
      let totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartBadge.textContent = totalQty;
      cartBadge.style.display = totalQty > 0 ? "flex" : "none";
    }

    // Animated cart notification function
    function showCartNotification(productName) {
      // Update badge first
      updateBadge();

      // Create floating notification
      const notification = document.createElement('div');
      notification.textContent = `${productName} added!`;
      notification.style.cssText = `
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: 14px;
        font-weight: 600;
        z-index: 10000;
        box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
        animation: slideUpFade 2s ease-out forwards;
      `;
      document.body.appendChild(notification);

      // Pulse the cart badge
      cartBadge.style.animation = 'cartPulse 0.5s ease-out';
      setTimeout(() => {
        cartBadge.style.animation = '';
      }, 500);

      // Remove notification after animation
      setTimeout(() => {
        notification.remove();
      }, 2000);
    }

    updateBadge();

    // navbar profile icon click event
    document.getElementById("profile-icon").addEventListener("click", () => {
      window.location.href = "profile.html";
    });

    // wishlist icon click event
    document.getElementById("wishlist-icon").addEventListener("click", () => {
      window.location.href = "wishlist.html";
    });

    // notification icon click event
    document.getElementById("bell-icon").addEventListener("click", () => {
      window.location.href = "notification.html";
    });

    // wishlist logic
    const wishlistBadge = document.createElement("div");
    wishlistBadge.style.position = "absolute";
    wishlistBadge.style.top = "-5px";
    wishlistBadge.style.right = "-5px";
    wishlistBadge.style.background = "red";
    wishlistBadge.style.color = "white";
    wishlistBadge.style.borderRadius = "50%";
    wishlistBadge.style.width = "18px";
    wishlistBadge.style.height = "18px";
    wishlistBadge.style.fontSize = "12px";
    wishlistBadge.style.display = "flex";
    wishlistBadge.style.alignItems = "center";
    wishlistBadge.style.justifyContent = "center";
    wishlistBadge.style.zIndex = "10";
    document.getElementById("wishlist-icon").appendChild(wishlistBadge);

    // notification popup
    const wishlistNotification = document.createElement("div");
    wishlistNotification.style.position = "absolute";
    wishlistNotification.style.top = "-30px";
    wishlistNotification.style.left = "50%";
    wishlistNotification.style.transform = "translateX(-50%)";
    wishlistNotification.style.background = "black";
    wishlistNotification.style.color = "white";
    wishlistNotification.style.padding = "5px 10px";
    wishlistNotification.style.borderRadius = "5px";
    wishlistNotification.style.fontSize = "12px";
    wishlistNotification.style.display = "none";
    wishlistNotification.style.whiteSpace = "nowrap";
    wishlistNotification.style.zIndex = "1000";
    document.getElementById("wishlist-icon").style.position = "relative";
    document.getElementById("wishlist-icon").appendChild(wishlistNotification);

    // search recommendations
    const searchInput = document.querySelector('.search-container input');
    const recommendations = ['Coffee Non sugar', 'Tea Premium', 'Milk Boost', 'Cappuccino', 'Milk Horlicks', 'Coffee Premium'];

    // Create dropdown for suggestions
    const dropdown = document.createElement('div');
    dropdown.style.position = 'absolute';
    dropdown.style.top = '100%';
    dropdown.style.left = '50%';
    dropdown.style.transform = 'translateX(-50%)';
    dropdown.style.width = '250px';
    dropdown.style.background = 'white';
    dropdown.style.border = '1px solid #ccc';
    dropdown.style.borderRadius = '10px';
    dropdown.style.maxHeight = '500px';
    dropdown.style.overflowY = 'auto';
    dropdown.style.display = 'none';
    dropdown.style.zIndex = '1000';
    dropdown.style.boxShadow = '0 2px 6px rgba(0, 0, 0, 0.08)';
    document.querySelector('.search-container').appendChild(dropdown);

    searchInput.addEventListener('input', () => {
      showSuggestions();
      // If search input is empty, show all products
      if (!searchInput.value.trim()) {
        document.querySelectorAll('.product-card').forEach(card => {
          card.style.display = 'block';
        });
      }
    });

    // Show recommendations on input focus
    searchInput.addEventListener('focus', () => {
      if (!searchInput.value.trim()) {
        searchInput.placeholder = `Try: ${recommendations.join(', ')}`;
      }
      showSuggestions();
    });

    searchInput.addEventListener('blur', () => {
      if (!searchInput.value.trim()) {
        searchInput.placeholder = 'Search products...';
      }
    });

    // Hide dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!document.querySelector('.search-container').contains(e.target)) {
        dropdown.style.display = 'none';
      }
    });

    // Function to filter products based on query
    function filterProducts(query) {
      document.querySelectorAll('.product-card').forEach(card => {
        const name = card.dataset.name.toLowerCase();
        if (name.includes(query.toLowerCase())) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }

    // Handle URL parameters for search or product selection
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('search');
    const selectedProduct = urlParams.get('product');

    if (selectedProduct) {
      // Show only the exact selected product card
      document.querySelectorAll('.product-card').forEach(card => {
        if (card.dataset.name === selectedProduct) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      searchInput.value = selectedProduct;
    } else if (searchQuery) {
      // Show products that match the search query
      filterProducts(searchQuery);
      searchInput.value = searchQuery;
    }

    // Function to show suggestions
    function showSuggestions() {
      const query = searchInput.value.toLowerCase().trim();
      dropdown.innerHTML = '';
      if (query) {
        const filtered = recommendations.filter(item => item.toLowerCase().includes(query));
        filtered.forEach(item => {
          const div = document.createElement('div');
          div.textContent = item;
          div.style.padding = '10px';
          div.style.cursor = 'pointer';
          div.style.borderRadius = '10px';
          div.style.boxShadow = '0 2px 6px rgba(0, 0, 0, 0.08)';
          div.style.background = 'white';
          div.style.margin = '5px 0';
          div.addEventListener('click', () => {
            window.location.href = `purchase.html?product=${encodeURIComponent(item)}`;
          });
          dropdown.appendChild(div);
        });
        dropdown.style.display = filtered.length ? 'block' : 'none';
      } else {
        dropdown.style.display = 'none';
      }
    }

    // function to update wishlist badge
    function updateWishlistBadge() {
      let wishlist = JSON.parse(localStorage.getItem("wishlistItems")) || [];
      let totalQty = wishlist.reduce((sum, item) => sum + item.quantity, 0);
      wishlistBadge.textContent = totalQty;
      wishlistBadge.style.display = totalQty > 0 ? "flex" : "none";
    }

    updateWishlistBadge();

    // Service button click to start vehicle animation
    const serviceBtn = document.getElementById('service-btn');
    const vehicle = document.querySelector('.service-vehicle');

    serviceBtn.addEventListener('click', () => {
      // Start the vehicle animation
      vehicle.style.animationPlayState = 'running';
    });

    // When animation ends, redirect to service.html
    vehicle.addEventListener('animationend', () => {
      window.location.href = 'service.html';
    });

    // Scroll-triggered animation for product images and sections
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    // Observe all product images
    document.querySelectorAll('.products-grid img, .product-card img').forEach(img => {
      observer.observe(img);
    });

    // Observe section headings, paragraphs, social links, and sections
    document.querySelectorAll('h2, p, .social-media-links, section').forEach(element => {
      observer.observe(element);
    });

    // Play product video on page load and ensure looping
    window.addEventListener('load', () => {
      const productVideo = document.querySelector('.products-header-video');
      if (productVideo) {
        productVideo.play().catch(e => {
          console.log('Video play failed:', e);
        });

        // Ensure video loops properly
        productVideo.addEventListener('ended', () => {
          productVideo.currentTime = 0;
          productVideo.play();
        });
      }
    });

    // Scroll hide/show bottom navbar only
    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const bottomNav = document.querySelector('.bottom-nav');
      if (scrollTop > lastScrollTop) {
        // scrolling down
        if (bottomNav) bottomNav.classList.add('hidden');
      } else {
        // scrolling up
        if (bottomNav) bottomNav.classList.remove('hidden');
      }
      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
    });

    // Banner Carousel - Auto slide functionality
    let currentSlide = 0;
    const slides = document.querySelectorAll('.banner-slide');
    const dots = document.querySelectorAll('.dot');
    const totalSlides = slides.length;

    function showSlide(n) {
      slides.forEach((s, i) => {
        const active = i === n;
        s.classList.toggle('active', active);
        const vid = s.querySelector('video');
        if (vid) {
          if (active) {
            const p = vid.play(); if (p && p.catch) p.catch(() => { });
          } else {
            try { vid.pause(); vid.currentTime = 0; } catch (e) { }
          }
        }
      });
      dots.forEach((d, i) => d.classList.toggle('active', i === n));
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      showSlide(currentSlide);
    }

    // Show first slide
    showSlide(currentSlide);

    // Auto-advance carousel every 5 seconds
    setInterval(nextSlide, 5000);

    // Dot click navigation
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        currentSlide = index;
        showSlide(currentSlide);
      });
      (function () {
        // Insert loader immediately so it's visible during refresh
        var loader = document.createElement('div');
        loader.className = 'app-loader';
        loader.innerHTML = '<div class="logo" aria-hidden="true"></div>';
        document.documentElement.appendChild(loader);
        function removeLoader() { loader.classList.add('loaded'); setTimeout(() => { if (loader && loader.parentNode) loader.parentNode.removeChild(loader); }, 350); }
        if (document.readyState === 'complete') removeLoader(); else window.addEventListener('load', removeLoader);
        window.addEventListener('beforeunload', function () { if (!document.documentElement.contains(loader)) document.documentElement.appendChild(loader); });
      })();
    });
    // connect with us section

    const connectSection = document.querySelector('.connect-section');

    const connectObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            connectSection
              .querySelectorAll('h2, p, .connect-details')
              .forEach(el => el.classList.add('visible'));

            connectObserver.unobserve(connectSection); // animate once
          }
        });
      },
      { threshold: 0.3 }
    );
    connectObserver.observe(connectSection);
    const products = [
      { img: '/ztea.png', title: 'Premium Tea', rate: 'â˜…â˜…â˜…â˜…â˜…' },
      { img: '/zwtea.png', title: 'Non Sugar Tea', rate: 'â˜…â˜…â˜…â˜…â˜…' },
      { img: '/MasalaTea.png', title: 'Masala Tea', rate: 'â˜…â˜…â˜…â˜…â˜†' },
      { img: '/LemonTea.png', title: 'LemonTea', rate: 'â˜…â˜…â˜…â˜…â˜†' }
    ];

    let currentIndex = 0;

    function updateMain(index, img, title, rate) {
      currentIndex = index;

      // Animation: Slide effect
      const mainImg = document.getElementById('display-img');
      mainImg.style.opacity = '0';
      mainImg.style.transform = 'translateX(20px)';

      setTimeout(() => {
        mainImg.src = img;
        document.getElementById('display-title').innerText = title;
        document.getElementById('display-rating').innerText = rate;

        mainImg.style.opacity = '1';
        mainImg.style.transform = 'translateX(0)';

        // Update active thumbnail
        document.querySelectorAll('.thumb-item').forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
      }, 300);
    }

    function moveSlide(direction) {
      currentIndex += direction;
      if (currentIndex >= products.length) currentIndex = 0;
      if (currentIndex < 0) currentIndex = products.length - 1;

      const p = products[currentIndex];
      updateMain(currentIndex, p.img, p.title, p.rate);
    }


    // Logic for the Add to Cart action
    function addToCart() {
      const currentProduct = products[currentIndex];
      // Reload cart from localStorage and update global variable
      cart = JSON.parse(localStorage.getItem("cartItems")) || [];

      const existingItem = cart.find(item => item.name === currentProduct.title);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ name: currentProduct.title, quantity: 1 });
      }

      localStorage.setItem("cartItems", JSON.stringify(cart));
      showCartNotification(currentProduct.title);
    }

    // ================= COFFEE COLLAGE LOGIC =================
    const productsCoffee = [
      { img: '/zcoffepre.png', title: 'Premium Coffee', rate: 'â˜…â˜…â˜…â˜…â˜…' },
      { img: '/cappuccino.png', title: 'Cappuccino', rate: 'â˜…â˜…â˜…â˜…â˜†' },
      { img: '/zcoffe.png', title: 'Diet Coffee', rate: 'â˜…â˜…â˜…â˜…â˜†' },
      { img: '/boost.png', title: 'Milk Boost', rate: 'â˜…â˜…â˜…â˜…â˜…' }
    ];

    let currentIndexCoffee = 0;

    function updateMainCoffee(index, img, title, rate) {
      currentIndexCoffee = index;

      // Animation: Slide effect
      const mainImg = document.getElementById('display-img-coffee');
      mainImg.style.opacity = '0';
      mainImg.style.transform = 'translateX(20px)';

      setTimeout(() => {
        mainImg.src = img;
        document.getElementById('display-title-coffee').innerText = title;
        document.getElementById('display-rating-coffee').innerText = rate;

        mainImg.style.opacity = '1';
        mainImg.style.transform = 'translateX(0)';

        // Update active thumbnail
        document.querySelectorAll('.thumb-item-coffee').forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
      }, 300);
    }

    function moveSlideCoffee(direction) {
      currentIndexCoffee += direction;
      if (currentIndexCoffee >= productsCoffee.length) currentIndexCoffee = 0;
      if (currentIndexCoffee < 0) currentIndexCoffee = productsCoffee.length - 1;

      const p = productsCoffee[currentIndexCoffee];
      updateMainCoffee(currentIndexCoffee, p.img, p.title, p.rate);
    }

    function addToCartCoffee() {
      const currentProduct = productsCoffee[currentIndexCoffee];
      cart = JSON.parse(localStorage.getItem("cartItems")) || [];

      const existingItem = cart.find(item => item.name === currentProduct.title);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ name: currentProduct.title, quantity: 1 });
      }

      localStorage.setItem("cartItems", JSON.stringify(cart));
      showCartNotification(currentProduct.title);
    }

    // Swinging tag effect on horizontal scroll
    const scrollRow = document.querySelector('.image-scroll-row');
    const tags = document.querySelectorAll('.best-seller-tag, .offer-tag, .new-tag, .energy-tag, .healthy-tag, .trending-tag');
    let scrollTimeout;

    if (scrollRow) {
      scrollRow.addEventListener('scroll', () => {
        tags.forEach(tag => tag.classList.add('swinging'));

        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          tags.forEach(tag => tag.classList.remove('swinging'));
        }, 500); // Stop swinging 500ms after scroll stops
      });
    }

    function showProductQuickView(element) {
      const productName = element.getAttribute('data-name');
      const productImg = element.getAttribute('data-img');

      document.getElementById('modal-product-img').src = productImg;
      document.getElementById('modal-product-name').innerText = productName;
      document.getElementById('modal-overlay').classList.add('active');
    }

    function closeProductModal() {
      document.getElementById('modal-overlay').classList.remove('active');
    }

    function confirmAddToCart() {
      const productName = document.getElementById('modal-product-name').innerText;
      cart = JSON.parse(localStorage.getItem("cartItems")) || [];

      const existingItem = cart.find(item => item.name === productName);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ name: productName, quantity: 1 });
      }

      localStorage.setItem("cartItems", JSON.stringify(cart));
      if (typeof showCartNotification === 'function') {
        showCartNotification(productName);
      }
      // Close modal
      closeProductModal();
    }

    // ================= SPECIAL COLLAGE LOGIC =================
    const productsSpecial = [
      { img: '/boost.png', title: 'Milk Boost', rate: 'â˜…â˜…â˜…â˜…â˜…' },
      { img: '/horlicks.png', title: 'Milk Horlicks', rate: 'â˜…â˜…â˜…â˜…â˜…' },
      { img: '/MasalaTea.png', title: 'Masala Tea', rate: 'â˜…â˜…â˜…â˜…â˜†' },
      { img: '/LemonTea.png', title: 'Lemon Tea', rate: 'â˜…â˜…â˜…â˜…â˜†' }
    ];

    let currentIndexSpecial = 0;

    function updateMainSpecial(index, img, title, rate) {
      currentIndexSpecial = index;
      const mainImg = document.getElementById('display-img-special');
      mainImg.style.opacity = '0';
      mainImg.style.transform = 'translateX(20px)';
      setTimeout(() => {
        mainImg.src = img;
        document.getElementById('display-title-special').innerText = title;
        document.getElementById('display-rating-special').innerText = rate;
        mainImg.style.opacity = '1';
        mainImg.style.transform = 'translateX(0)';
        document.querySelectorAll('.thumb-item-special').forEach((item, i) => {
          item.classList.toggle('active', i === index);
        });
      }, 300);
    }

    function moveSlideSpecial(direction) {
      currentIndexSpecial += direction;
      if (currentIndexSpecial >= productsSpecial.length) currentIndexSpecial = 0;
      if (currentIndexSpecial < 0) currentIndexSpecial = productsSpecial.length - 1;
      const p = productsSpecial[currentIndexSpecial];
      updateMainSpecial(currentIndexSpecial, p.img, p.title, p.rate);
    }

    function addToCartSpecial() {
      const p = productsSpecial[currentIndexSpecial];
      cart = JSON.parse(localStorage.getItem("cartItems")) || [];
      const existingProduct = cart.find(item => item.name === p.title);
      if (existingProduct) {
        existingProduct.quantity += 1;
      } else {
        cart.push({ name: p.title, quantity: 1 });
      }
      localStorage.setItem("cartItems", JSON.stringify(cart));
      showCartNotification(p.title);
    }
  </script>
  <!-- ===== Product Quick View Modal ===== -->
  <div class="modal-overlay" id="modal-overlay" onclick="if(event.target===this) closeProductModal()">
    <div class="quick-card">
      <button class="close-modal" onclick="closeProductModal()">&times;</button>
      <img src="" alt="Product Image" id="modal-product-img">
      <h3 id="modal-product-name">Product Name</h3>
      <p>Premium quality selection from ZCafe. Perfectly crafted for your delight.</p>
      <button class="modal-add-btn" onclick="confirmAddToCart()">
        <i class="fas fa-shopping-cart"></i> Add to Cart
      </button>
    </div>
  </div>

  <!-- Bootstrap 5 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
    </script>



  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

    const dbApp = initializeApp({
      apiKey: "AIzaSyBD_s0bu-ei-bsdPDIFaDF6gbuck-85hbM",
      databaseURL: "https://zcafe-65f97-default-rtdb.firebaseio.com"
    });
    const realtimeDb = getDatabase(dbApp);

    const bellIcon = document.getElementById("bell-icon");
    const notificationBadge = document.createElement("div");
    notificationBadge.style.position = "absolute";
    notificationBadge.style.top = "-5px";
    notificationBadge.style.right = "-5px";
    notificationBadge.style.background = "red";
    notificationBadge.style.color = "white";
    notificationBadge.style.borderRadius = "50%";
    notificationBadge.style.width = "18px";
    notificationBadge.style.height = "18px";
    notificationBadge.style.fontSize = "12px";
    notificationBadge.style.display = "none";
    notificationBadge.style.alignItems = "center";
    notificationBadge.style.justifyContent = "center";
    notificationBadge.style.fontWeight = "bold";
    notificationBadge.style.zIndex = "10";
    if (bellIcon) {
      bellIcon.style.position = "relative";
      bellIcon.appendChild(notificationBadge);
    }

    const notifSound = document.createElement("audio");
    notifSound.src = "https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3";
    document.body.appendChild(notifSound);

    let lastKnownNotifTime = parseInt(localStorage.getItem("lastNotifSeen") || "0");

    onValue(ref(realtimeDb, "notifications"), snap => {
      if (snap.exists()) {
        const data = snap.val();
        const userLoc = localStorage.getItem("deliveryAddress") || "";
        const userComp = localStorage.getItem("companyName") || "";
        const lastSeen = parseInt(localStorage.getItem("lastNotifSeen") || "0");

        let unreadCount = 0;
        let newestInCurrentBatch = 0;

        Object.values(data).forEach(n => {
          const matchLoc = n.targetLocation === "all" || n.targetLocation === userLoc;
          const matchComp = n.targetCompany === "all" || n.targetCompany === userComp;
          const notifTime = new Date(n.timestamp).getTime();

          if (matchLoc && matchComp) {
            if (notifTime > lastSeen) unreadCount++;
            if (notifTime > newestInCurrentBatch) newestInCurrentBatch = notifTime;
          }
        });

        if (newestInCurrentBatch > lastKnownNotifTime) {
          notifSound.play().catch(e => console.log("Sound error:", e));
          lastKnownNotifTime = newestInCurrentBatch;
        }

        notificationBadge.textContent = unreadCount;
        notificationBadge.style.display = unreadCount > 0 ? "flex" : "none";
      }
    });
  </script>
</body>

</html>